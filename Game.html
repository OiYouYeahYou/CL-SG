<html>
<head><title>CLI FTL - Prototype</title><!--<script src="Variable.js"></script>--></head>
<body>
	<!--<div style="width: 50%; float:left; height:100px; background:magenta; margin:0px">Ship Stats</div>
	<div style="width: 50%; float:left; height:100px; background:green; margin:0px">Personel Stats</div>--->

	<script>
		var GameState = "NotStarted";
		// var input = document.getElementById("cmdin").value;
		var myVar = setInterval(myTimer, 1000);
		var squiggle = "x"

		function myTimer() {
			var d = new Date();
			var newVal
			var widgetvalue = document.getElementById("widget").value

			// document.getElementById("time").innerHTML = d.toLocaleTimeString();
			if (document.getElementById("cmdin").value !== "pause"){
				document.getElementById("time").innerHTML = d.toLocaleTimeString();
			}
			if (squiggle == "x"){
				newVal = "a";
			} else if (squiggle == "a"){
				newVal = "b";
			} else if (squiggle == "b"){
				newVal = "c";
			} else if (squiggle == "c"){
				newVal = "d";
			} else if (squiggle == "d"){
				newVal = "a";
			} else {
				newVal = "What?";
			}

			squiggle = newVal
			document.getElementById("widget").innerHTML = newVal

		}

		function selectfirstword(x){
			//
		}

		// function TrueFocus(){document.getElementById("cmdin").focus()}

		var v1, v2, v3
		function send() {
			var input = document.getElementById("cmdin").value;
			var clearyes = true
			// var command = selectfirstword(input)
			// var arguments =

			if (GameState == "Running"){
				if (input.includes("hi")){
					lineout("hi");
				} else if (input == "bye") {
					lineout("bye");
				} else {
					lineout("Unrecognised Command");
					clearyes = false
				}
			} else if (GameState == "Paused"){// Looking for Unpause, Pause, Start, Help
			} else if (GameState == "NotStarted"){// Looking for Start, Help, _blank, Unrecognised
			} else {// Game Error : Unexpected Game State - Reintialising
			}

			if (clearyes == true) {document.getElementById("cmdin").value = ""}
			TrueFocus();function TrueFocus(){document.getElementById("cmdin").focus()}
		};
		function lineout(text){
			var ouptut_main = document.getElementById("cliout");
			document.getElementById("cliout").innerHTML = text + "</br>&#62; " + document.getElementById("cliout").innerHTML;
		}
	</script>
	<div id="cliout" style="width: 100%; height: 90%; overflow-y: scroll;">Command Line Faster Than Light</div>
	<form action="javascript:send()">Command <input type="text" id="cmdin"><input type="submit" value="Submit"><input type="Button" value="Start" onclick="javascript:GameState='Running'"></form>
	<div id="time"></div><div id="widget">x</div>
</body>
</html>
